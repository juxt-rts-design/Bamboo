<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAMBOO - Page d'accueil</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: white;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: left 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0 !important;
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo img {
            width: 40px;
            height: 40px;
        }

        .logo h1 {
            color: #4A9E04;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .close-sidebar {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
            padding: 0.5rem;
        }

        .sidebar-nav ul {
            list-style: none;
            padding: 1rem 0;
        }

        .sidebar-nav li {
            margin: 0.5rem 0;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            color: #333;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .sidebar-nav a:hover,
        .sidebar-nav li.active a {
            background: #4A9E04;
            color: white;
        }

        .sidebar-nav i {
            width: 20px;
            text-align: center;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        /* Header */
        .mobile-header {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 999;
        }

        .header-content {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            position: relative;
        }

        .menu-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #4A9E04;
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(74, 158, 4, 0.3);
            z-index: 1002;
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            background: #3a7d03;
            transform: scale(1.1);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .user-details {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .user-account {
            font-size: 0.8rem;
            color: #666;
        }

        .header-actions {
            position: absolute;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            background: none;
            border: none;
            padding: 0.5rem;
            cursor: pointer;
            color: #666;
            font-size: 1rem;
        }

        .action-btn.logout {
            color: #dc3545;
        }

        /* Section Solde */
        .balance-section {
            padding: 2rem 1rem;
        }

        .balance-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
            max-width: 400px;
        }

        .account-navigation {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .nav-arrow {
            background: #4A9E04;
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .nav-arrow:hover {
            background: #3a7d03;
            transform: scale(1.1);
        }

        .nav-arrow:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .account-info {
            text-align: center;
            flex: 1;
            margin: 0 1rem;
        }

        .account-type {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.2rem;
        }

        .account-number {
            font-size: 0.8rem;
            color: #999;
        }



        .balance-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            flex-direction: row;
        }

        .toggle-balance-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            font-size: 1.2rem;
            padding: 0.5rem;
        }

        .balance-hidden, .balance-visible {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
        }

        .balance-hidden {
            letter-spacing: 0.1em;
        }

        /* Section Contenu Dynamique */
        .content-section {
            padding: 2rem 1rem;
        }

        .content-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .content-panel {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: none;
        }

        .content-panel.active {
            display: block;
        }

        .content-panel h2 {
            color: #4A9E04;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .content-panel p {
            color: #666;
            font-size: 1rem;
            line-height: 1.6;
        }

        .welcome-message {
            padding: 2rem 0;
        }

        .welcome-message h2 {
            color: #4A9E04;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .welcome-message p {
            color: #666;
            font-size: 1.1rem;
        }

        /* Diagramme circulaire */
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            padding: 2rem;
        }

        .pie-chart {
            position: relative;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(
                #4A9E04 0deg 120deg,
                #3a7d03 120deg 180deg,
                #2e7d32 180deg 240deg,
                #1b5e20 240deg 360deg
            );
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(74, 158, 4, 0.3);
        }

        .pie-chart::before {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .chart-center {
            position: relative;
            z-index: 1;
            text-align: center;
            color: #4A9E04;
            font-weight: 600;
        }

        .chart-center .total-amount {
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        .chart-center .total-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .chart-legend {
            margin-left: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }

        .legend-text {
            font-size: 0.9rem;
            color: #333;
        }

        .legend-amount {
            font-weight: 600;
            color: #4A9E04;
        }

        /* Section Cartes */
        .cards-section {
            margin: 2rem 0;
        }

        .cards-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .cards-header h3 {
            color: #4A9E04;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .add-card-btn {
            background: #f0f0f0;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #4A9E04;
        }

        .no-card-message {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .no-card-message p {
            color: #666;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        .add-card-button {
            background: #4A9E04;
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-card-button:hover {
            background: #3a7d03;
        }

        /* Liste des comptes */
        .accounts-list {
            margin-top: 2rem;
        }

        .account-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .account-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .account-icon {
            width: 50px;
            height: 50px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
        }

        .account-details {
            flex: 1;
        }

        .account-details h4 {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .account-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .account-balance {
            color: #4A9E04;
            font-weight: 600;
            font-size: 1rem;
        }

        .account-status {
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .account-status.active {
            background: #e8f5e8;
            color: #4A9E04;
        }

        /* Liste des transactions */
        .transactions-list {
            margin-top: 2rem;
        }

        .transaction-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .transaction-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .transaction-icon {
            width: 50px;
            height: 50px;
            background: #f8f9fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin-right: 1rem;
        }

        .transaction-details {
            flex: 1;
        }

        .transaction-details h4 {
            color: #333;
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }

        .transaction-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .transaction-date {
            color: #999;
            font-size: 0.8rem;
        }

        .transaction-amount {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .transaction-amount.positive {
            color: #28a745;
        }

        .transaction-amount.negative {
            color: #dc3545;
        }

        .text-success { color: #28a745; }
        .text-danger { color: #dc3545; }
        .text-warning { color: #ffc107; }
        .text-info { color: #17a2b8; }

        /* Section Crédits */
        .credits-list {
            margin-top: 2rem;
        }

        .credit-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .credit-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .credit-icon {
            width: 50px;
            height: 50px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
        }

        .credit-details {
            flex: 1;
        }

        .credit-details h4 {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .credit-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .credit-amount {
            color: #4A9E04;
            font-weight: 600;
            font-size: 1rem;
        }

        .credit-btn {
            background: #4A9E04;
            color: white;
            border: none;
            padding: 0.6rem 1.5rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .credit-btn:hover {
            background: #3a7d03;
        }

        /* Section Avance sur salaire */
        .salary-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .salary-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .salary-icon {
            width: 60px;
            height: 60px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin: 0 auto 1rem;
        }

        .salary-details h4 {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .salary-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .salary-amount, .salary-rate, .salary-duration {
            color: #4A9E04;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .salary-request {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 2rem;
        }

        .salary-request h3 {
            color: #4A9E04;
            margin-bottom: 1.5rem;
        }

        .request-form {
            display: grid;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: #333;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .form-group input, .form-group select {
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .request-btn {
            background: #4A9E04;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .request-btn:hover {
            background: #3a7d03;
        }

        /* Section Historique */
        .history-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            color: #333;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .filter-group select {
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .history-list {
            margin-top: 2rem;
        }

        .history-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .history-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .history-date {
            background: #4A9E04;
            color: white;
            border-radius: 8px;
            padding: 0.8rem;
            text-align: center;
            margin-right: 1rem;
            min-width: 60px;
        }

        .history-date .day {
            display: block;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .history-date .month {
            display: block;
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .history-details {
            flex: 1;
        }

        .history-details h4 {
            color: #333;
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }

        .history-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .history-time {
            color: #999;
            font-size: 0.8rem;
        }

        .history-amount {
            font-weight: 600;
            font-size: 1.1rem;
        }

        /* Section Service client */
        .support-options {
            margin: 2rem 0;
        }

        .support-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .support-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .support-item:hover .support-icon {
            transform: scale(1.05);
            box-shadow: 0 3px 12px rgba(74, 158, 4, 0.3);
        }

        .support-icon {
            width: 50px;
            height: 50px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
            box-shadow: 0 2px 8px rgba(74, 158, 4, 0.2);
            transition: all 0.3s ease;
        }

        .support-details {
            flex: 1;
        }

        .support-details h4 {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .support-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .support-info {
            color: #4A9E04;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .support-btn {
            background: #4A9E04;
            color: white;
            border: none;
            padding: 0.6rem 1.5rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .support-btn:hover {
            background: #3a7d03;
        }

        .faq-section {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 2rem;
        }

        .faq-section h3 {
            color: #4A9E04;
            margin-bottom: 1.5rem;
        }

        .faq-item {
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-item h4 {
            color: #333;
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .faq-item p {
            color: #666;
            font-size: 0.9rem;
        }

        /* Diagramme circulaire SVG */
        .pie-chart-svg {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }

        .chart-segment {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .chart-segment:hover {
            filter: brightness(1.1);
            transform-origin: 150px 150px;
            transform: scale(1.05);
        }

        .chart-center-amount {
            font-size: 1.4rem;
            font-weight: 700;
            fill: #4A9E04;
        }

        .chart-center-label {
            font-size: 1rem;
            font-weight: 600;
            fill: #4A9E04;
        }

        .chart-center-title {
            font-size: 0.8rem;
            font-weight: 500;
            fill: #666;
        }

        .legend-percentage {
            font-size: 0.8rem;
            color: #4A9E04;
            font-weight: 600;
        }

        /* Section Notifications */
        .notifications-list {
            margin: 2rem 0;
        }

        .notification-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .notification-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .notification-item.unread {
            border-left: 4px solid #4A9E04;
            background: #f8fff8;
        }

        .notification-icon {
            width: 50px;
            height: 50px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .notification-details {
            flex: 1;
        }

        .notification-details h4 {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .notification-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            line-height: 1.4;
        }

        .notification-time {
            color: #999;
            font-size: 0.8rem;
        }

        .notification-status {
            margin-left: 1rem;
        }

        .unread-dot {
            width: 12px;
            height: 12px;
            background: #4A9E04;
            border-radius: 50%;
            display: block;
        }

        .read-dot {
            width: 12px;
            height: 12px;
            background: #ddd;
            border-radius: 50%;
            display: block;
        }

        .notification-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .action-btn {
            background: #4A9E04;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            background: #3a7d03;
            transform: translateY(-2px);
        }

        .action-btn.clear-read {
            background: #dc3545;
        }

        .action-btn.clear-read:hover {
            background: #c82333;
        }

        /* Section Administration */
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: #4A9E04;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .stat-details h3 {
            color: #333;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .stat-number {
            color: #4A9E04;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .admin-actions {
            margin-top: 2rem;
        }

        .admin-section {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .admin-section h3 {
            color: #4A9E04;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .admin-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .admin-btn {
            background: #4A9E04;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .admin-btn:hover {
            background: #3a7d03;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(74, 158, 4, 0.3);
        }

        .admin-btn i {
            font-size: 1rem;
        }

        .admin-data-display {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-height: 500px;
            overflow-y: auto;
        }

        .admin-data-display h3 {
            color: #4A9E04;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .data-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #4A9E04;
        }

        .data-item h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .data-item p {
            color: #666;
            margin-bottom: 0.3rem;
            font-size: 0.9rem;
        }

        .data-item .data-value {
            color: #4A9E04;
            font-weight: 600;
        }

        .admin-form {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .admin-form h4 {
            color: #4A9E04;
            margin-bottom: 1rem;
        }

        .admin-form-group {
            margin-bottom: 1rem;
        }

        .admin-form-group label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .admin-form-group input,
        .admin-form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .admin-form-group input:focus,
        .admin-form-group select:focus {
            outline: none;
            border-color: #4A9E04;
            box-shadow: 0 0 0 2px rgba(74, 158, 4, 0.2);
        }

        .admin-form-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .admin-form-buttons .admin-btn {
            flex: 1;
        }

        /* Footer */
        footer {
            background: white;
            padding: 2rem 0;
            text-align: center;
            color: #666;
            border-top: 1px solid #eee;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .menu-btn {
                top: 15px;
                left: 15px;
                width: 45px;
                height: 45px;
                font-size: 1rem;
            }

            .header-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .header-actions {
                position: static;
                justify-content: center;
            }

            .account-navigation {
                margin-bottom: 1.5rem;
            }

            .nav-arrow {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }

            .account-info {
                margin: 0 0.5rem;
            }

            .account-type {
                font-size: 0.8rem;
            }

            .account-number {
                font-size: 0.7rem;
            }

            .balance-display {
                flex-direction: row;
                gap: 0.5rem;
            }

            .balance-hidden, .balance-visible {
                font-size: 1.5rem;
            }


            .chart-container {
                flex-direction: column;
                margin: 1rem 0;
                padding: 1rem;
            }

            .pie-chart {
                width: 150px;
                height: 150px;
            }

            .pie-chart::before {
                width: 60px;
                height: 60px;
            }

            .chart-center .total-amount {
                font-size: 1rem;
            }

            .chart-center .total-label {
                font-size: 0.7rem;
            }

            .chart-legend {
                margin-left: 0;
                margin-top: 1rem;
                gap: 0.8rem;
            }

            .legend-item {
                gap: 0.6rem;
            }

            .legend-color {
                width: 16px;
                height: 16px;
            }

            .legend-text {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <img src="images/logo.png" alt="Logo BAMBOO">
                <h1>BAMBOO</h1>
            </div>
            <button id="closeSidebar" class="close-sidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li class="active">
                    <a href="#dashboard">
                        <i class="fas fa-home"></i>
                        <span>Tableau de bord</span>
                    </a>
                </li>
                <li>
                    <a href="#accounts">
                        <i class="fas fa-wallet"></i>
                        <span>Comptes</span>
                    </a>
                </li>
                <li>
                    <a href="#transactions">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Transactions</span>
                    </a>
                </li>
                <li>
                    <a href="#credits">
                        <i class="fas fa-credit-card"></i>
                        <span>Crédits</span>
                    </a>
                </li>
                <li>
                    <a href="#salary">
                        <i class="fas fa-money-bill-wave"></i>
                        <span>Avance sur salaire</span>
                    </a>
                </li>
                <li>
                    <a href="#history">
                        <i class="fas fa-history"></i>
                        <span>Historique</span>
                    </a>
                </li>
                <li>
                    <a href="#support">
                        <i class="fas fa-users"></i>
                        <span>Service client</span>
                    </a>
                </li>
                <li>
                    <a href="#settings">
                        <i class="fas fa-cog"></i>
                        <span>Configuration</span>
                    </a>
                </li>
                <li>
                    <a href="#admin">
                        <i class="fas fa-shield-alt"></i>
                        <span>Administration</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- Menu Hamburger Flottant -->
    <button id="menuBtn" class="menu-btn">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Header -->
    <header class="mobile-header">
        <div class="header-content">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-details">
                    <span class="user-name">EYENG ASSOUMOU</span>
                    <span class="user-account">CLIENT</span>
                </div>
            </div>
            <div class="header-actions">
                <button id="notificationBtn" class="action-btn">
                    <i class="fas fa-bell"></i>
                </button>
                <button class="action-btn">
                    <span>FR</span>
                </button>
                <button class="action-btn">
                    <i class="fas fa-question"></i>
                </button>
                <button id="logoutBtn" class="action-btn logout">
                    <i class="fas fa-power-off"></i>
                </button>
            </div>
        </div>
    </header>

    <main>
        <!-- Section Solde -->
        <section class="balance-section">
            <div class="balance-card">
                <!-- Navigation entre comptes -->
                <div class="account-navigation">
                    <button id="prevAccount" class="nav-arrow">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="account-info">
                        <div id="accountType" class="account-type">COMPTE ÉPARGNE</div>
                        <div id="accountNumber" class="account-number">N° 00325890101</div>
                    </div>
                    <button id="nextAccount" class="nav-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                

                
                <!-- Affichage du solde -->
                <div class="balance-display">
                    <span id="balanceText" class="balance-hidden">••••••••</span>
                    <span id="balanceValue" class="balance-visible" style="display: none;">1 250 000 XAF</span>
                    <button id="toggleBalance" class="toggle-balance-btn">
                        <i class="fas fa-eye" id="balanceIcon"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Section Contenu Dynamique -->
        <section class="content-section">
            <div class="content-container">
                <div id="dashboardContent" class="content-panel active">
                    <div class="welcome-message">
                        <h2>Bienvenue Madame EYENG ASSOUMOU</h2>
                        <p>Votre tableau de bord personnel</p>
                    </div>
                    
                    <!-- Diagramme circulaire SVG -->
                    <div class="chart-container">
                        <div class="pie-chart-svg">
                            <svg width="300" height="300" viewBox="0 0 300 300">
                                <!-- Compte Épargne - 84.7% -->
                                <path d="M 150 150 L 150 50 A 100 100 0 1 1 100.8 199.2 Z" 
                                      fill="#4A9E04" 
                                      class="chart-segment"
                                      data-amount="1 990 000 XAF"
                                      data-label="Compte Épargne">
                                </path>
                                
                                <!-- Intérêts Épargne - 8.1% -->
                                <path d="M 150 150 L 100.8 199.2 A 100 100 0 0 1 100.8 100.8 Z" 
                                      fill="#3a7d03" 
                                      class="chart-segment"
                                      data-amount="198 000 XAF"
                                      data-label="Intérêts Épargne">
                                </path>
                                
                                <!-- Intérêts à venir - 7.2% -->
                                <path d="M 150 150 L 100.8 100.8 A 100 100 0 0 1 150 50 Z" 
                                      fill="#2e7d32" 
                                      class="chart-segment"
                                      data-amount="160 000 XAF"
                                      data-label="Intérêts à venir">
                                </path>
                                
                                <!-- Cercle central -->
                                <circle cx="150" cy="150" r="60" fill="white" stroke="#4A9E04" stroke-width="2"/>
                                
                                <!-- Texte central -->
                                <text x="150" y="145" text-anchor="middle" class="chart-center-amount">2 348 000</text>
                                <text x="150" y="160" text-anchor="middle" class="chart-center-label">XAF</text>
                                <text x="150" y="175" text-anchor="middle" class="chart-center-title">Total Patrimoine</text>
                            </svg>
                        </div>
                        
                        <div class="chart-legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #4A9E04;"></div>
                                <div class="legend-text">
                                    <div>Comptes (Courant + Épargne)</div>
                                    <div class="legend-amount">1 990 000 XAF</div>
                                    <div class="legend-percentage">84.7%</div>
                                </div>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #3a7d03;"></div>
                                <div class="legend-text">
                                    <div>Intérêts Épargne</div>
                                    <div class="legend-amount">198 000 XAF</div>
                                    <div class="legend-percentage">8.1%</div>
                                </div>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #2e7d32;"></div>
                                <div class="legend-text">
                                    <div>Intérêts à venir</div>
                                    <div class="legend-amount">160 000 XAF</div>
                                    <div class="legend-percentage">7.2%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="accountsContent" class="content-panel">
                    <h2>Mes Comptes</h2>
                    <p>Gérez vos comptes bancaires</p>
                    
                    <!-- Section Cartes -->
                    <div class="cards-section">
                        <div class="cards-header">
                            <h3>Cartes</h3>
                            <button class="add-card-btn">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="no-card-message">
                            <p>Vous n'avez pas encore de carte</p>
                            <button class="add-card-button">Ajouter</button>
                        </div>
                    </div>
                    
                    <!-- Liste des comptes -->
                    <div class="accounts-list">
                        <div class="account-item">
                            <div class="account-icon">
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="account-details">
                                <h4>Compte Épargne</h4>
                                <p>N° 00325890101</p>
                                <span class="account-balance">1 990 000 XAF</span>
                            </div>
                            <div class="account-status active">Actif</div>
                        </div>
                        
                        <div class="account-item">
                            <div class="account-icon">
                                <i class="fas fa-piggy-bank"></i>
                            </div>
                            <div class="account-details">
                                <h4>Intérêts Acquis</h4>
                                <p>N° 00325890101</p>
                                <span class="account-balance">198 000 XAF</span>
                            </div>
                            <div class="account-status active">Actif</div>
                        </div>
                        
              
                    </div>
                </div>
                
                <div id="transactionsContent" class="content-panel">
                    <h2>Transactions</h2>
                    <p>Effectuer des virements et transferts</p>
                    
                    <!-- Transactions récentes -->
                    <div class="transactions-list">
                        <div class="transaction-item">
                            <div class="transaction-icon">
                                <i class="fas fa-arrow-up text-success"></i>
                            </div>
                            <div class="transaction-details">
                                <h4>Virement reçu</h4>
                                <p>De: MARTIN KOUAME</p>
                                <span class="transaction-date">15 Jan 2024</span>
                            </div>
                            <div class="transaction-amount positive">+ 150 000 XAF</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon">
                                <i class="fas fa-arrow-down text-danger"></i>
                            </div>
                            <div class="transaction-details">
                                <h4>Retrait GAB</h4>
                                <p>GAB Libreville Centre</p>G
                                <span class="transaction-date">14 Jan 2024</span>
                            </div>
                            <div class="transaction-amount negative">- 50 000 XAF</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon">
                                <i class="fas fa-credit-card text-warning"></i>
                            </div>
                            <div class="transaction-details">
                                <h4>Paiement carte</h4>
                                <p>SUPERMARCHÉ CARREFOUR</p>
                                <span class="transaction-date">13 Jan 2024</span>
                            </div>
                            <div class="transaction-amount negative">- 25 000 XAF</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon">
                                <i class="fas fa-mobile-alt text-info"></i>
                            </div>
                            <div class="transaction-details">
                                <h4>Recharge mobile</h4>
                                <p>Libreville Telecom</p>
                                <span class="transaction-date">12 Jan 2024</span>
                            </div>
                            <div class="transaction-amount negative">- 5 000 XAF</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon">
                                <i class="fas fa-arrow-up text-success"></i>
                            </div>
                            <div class="transaction-details">
                                <h4>Virement reçu</h4>
                                <p>De: SOCIÉTÉ ABC SARL</p>
                                <span class="transaction-date">10 Jan 2024</span>
                            </div>
                            <div class="transaction-amount positive">+ 500 000 XAF</div>
                        </div>
                    </div>
                </div>
                
                <div id="creditsContent" class="content-panel">
                    <h2>Crédits</h2>
                    <p>Demander un crédit</p>
                    
                    <!-- Crédits disponibles -->
                    <div class="credits-list">
                        <div class="credit-item">
                            <div class="credit-icon">
                                <i class="fas fa-home"></i>
                            </div>
                            <div class="credit-details">
                                <h4>Crédit Immobilier</h4>
                                <p>Financement d'achat immobilier</p>
                                <span class="credit-amount">Jusqu'à 50 000 000 XAF</span>
                            </div>
                            <button class="credit-btn">Demander</button>
                        </div>
                        
                        <div class="credit-item">
                            <div class="credit-icon">
                                <i class="fas fa-car"></i>
                            </div>
                            <div class="credit-details">
                                <h4>Crédit Automobile</h4>
                                <p>Financement d'achat de véhicule</p>
                                <span class="credit-amount">Jusqu'à 15 000 000 XAF</span>
                            </div>
                            <button class="credit-btn">Demander</button>
                        </div>
                        
                        <div class="credit-item">
                            <div class="credit-icon">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <div class="credit-details">
                                <h4>Crédit Professionnel</h4>
                                <p>Financement d'activité professionnelle</p>
                                <span class="credit-amount">Jusqu'à 25 000 000 XAF</span>
                            </div>
                            <button class="credit-btn">Demander</button>
                        </div>
                        
                        <div class="credit-item">
                            <div class="credit-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="credit-details">
                                <h4>Crédit Consommation</h4>
                                <p>Financement de biens de consommation</p>
                                <span class="credit-amount">Jusqu'à 5 000 000 XAF</span>
                            </div>
                            <button class="credit-btn">Demander</button>
                        </div>
                    </div>
                </div>
                
                <div id="salaryContent" class="content-panel">
                    <h2>Avance sur salaire</h2>
                    <p>Demander une avance sur salaire</p>
                    
                    <!-- Informations avance sur salaire -->
                    <div class="salary-info">
                        <div class="salary-card">
                            <div class="salary-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="salary-details">
                                <h4>Montant disponible</h4>
                                <p>Basé sur votre salaire mensuel</p>
                                <span class="salary-amount">1 500 000 XAF</span>
                            </div>
                        </div>
                        
                        <div class="salary-card">
                            <div class="salary-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="salary-details">
                                <h4>Taux d'intérêt</h4>
                                <p>Taux préférentiel pour les salariés</p>
                                <span class="salary-rate">2.5% / mois</span>
                            </div>
                        </div>
                        
                        <div class="salary-card">
                            <div class="salary-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="salary-details">
                                <h4>Durée de remboursement</h4>
                                <p>Flexible selon vos besoins</p>
                                <span class="salary-duration">1 à 12 mois</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="salary-request">
                        <h3>Demander une avance</h3>
                        <div class="request-form">
                            <div class="form-group">
                                <label>Montant souhaité</label>
                                <input type="number" placeholder="Ex: 500 000" max="1500000">
                            </div>
                            <div class="form-group">
                                <label>Durée de remboursement</label>
                                <select>
                                    <option>1 mois</option>
                                    <option>3 mois</option>
                                    <option>6 mois</option>
                                    <option>12 mois</option>
                                </select>
                            </div>
                            <button class="request-btn">Demander l'avance</button>
                        </div>
                    </div>
                </div>
                
                <div id="historyContent" class="content-panel">
                    <h2>Historique</h2>
                    <p>Consulter vos opérations</p>
                    
                    <!-- Filtres d'historique -->
                    <div class="history-filters">
                        <div class="filter-group">
                            <label>Période</label>
                            <select>
                                <option>7 derniers jours</option>
                                <option>30 derniers jours</option>
                                <option>3 derniers mois</option>
                                <option>6 derniers mois</option>
                                <option>1 an</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Type d'opération</label>
                            <select>
                                <option>Toutes les opérations</option>
                                <option>Virements</option>
                                <option>Retraits</option>
                                <option>Paiements</option>
                                <option>Dépôts</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Historique détaillé -->
                    <div class="history-list">
                        <div class="history-item">
                            <div class="history-date">
                                <span class="day">15</span>
                                <span class="month">Jan</span>
                            </div>
                            <div class="history-details">
                                <h4>Virement reçu</h4>
                                <p>De: MARTIN KOUAME</p>
                                <span class="history-time">14:30</span>
                            </div>
                            <div class="history-amount positive">+ 150 000 XAF</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-date">
                                <span class="day">14</span>
                                <span class="month">Jan</span>
                            </div>
                            <div class="history-details">
                                <h4>Retrait GAB</h4>
                                <p>GAB Libreville Centre</p>
                                <span class="history-time">09:15</span>
                            </div>
                            <div class="history-amount negative">- 50 000 XAF</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-date">
                                <span class="day">13</span>
                                <span class="month">Jan</span>
                            </div>
                            <div class="history-details">
                                <h4>Paiement carte</h4>
                                <p>SUPERMARCHÉ CARREFOUR</p>
                                <span class="history-time">16:45</span>
                            </div>
                            <div class="history-amount negative">- 25 000 XAF</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-date">
                                <span class="day">12</span>
                                <span class="month">Jan</span>
                            </div>
                            <div class="history-details">
                                <h4>Recharge mobile</h4>
                                <p>Libreville Telecom</p>
                                <span class="history-time">11:20</span>
                            </div>
                            <div class="history-amount negative">- 5 000 XAF</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-date">
                                <span class="day">10</span>
                                <span class="month">Jan</span>
                            </div>
                            <div class="history-details">
                                <h4>Virement reçu</h4>
                                <p>De: SOCIÉTÉ ABC SARL</p>
                                <span class="history-time">08:00</span>
                            </div>
                            <div class="history-amount positive">+ 500 000 XAF</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-date">
                                <span class="day">08</span>
                                <span class="month">Jan</span>
                            </div>
                            <div class="history-details">
                                <h4>Dépôt espèces</h4>
                                <p>Agence Libreville Centre</p>
                                <span class="history-time">15:30</span>
                            </div>
                            <div class="history-amount positive">+ 200 000 XAF</div>
                        </div>
                    </div>
                </div>
                
                <div id="supportContent" class="content-panel">
                    <h2>Service client</h2>
                    <p>Contacter notre équipe</p>
                    
                    <!-- Options de contact -->
                    <div class="support-options">
                        <div class="support-item">
                            <div class="support-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="support-details">
                                <h4>Appel téléphonique</h4>
                                <p>Service client 24h/24</p>
                                <span class="support-info">+241 01 23 45 67</span>
                            </div>
                            <button class="support-btn">Appeler</button>
                        </div>
                        
                        <div class="support-item">
                            <div class="support-icon">
                                <i class="fas fa-paper-plane"></i>
                            </div>
                            <div class="support-details">
                                <h4>Email</h4>
                                <p>Réponse sous 24h</p>
                                <span class="support-info">support@bamboo.ga</span>
                            </div>
                            <button class="support-btn">Écrire</button>
                        </div>
                        
                        <div class="support-item">
                            <div class="support-icon">
                                <i class="fas fa-comment-dots"></i>
                            </div>
                            <div class="support-details">
                                <h4>Chat en ligne</h4>
                                <p>Disponible 8h-18h</p>
                                <span class="support-info">Lun-Ven</span>
                            </div>
                            <button class="support-btn">Chatter</button>
                        </div>
                        
                        <div class="support-item">
                            <div class="support-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="support-details">
                                <h4>Agences</h4>
                                <p>Réseau national</p>
                                <span class="support-info">15 agences au Gabon</span>
                            </div>
                            <button class="support-btn">Localiser</button>
                        </div>
                    </div>
                    
                    <!-- FAQ -->
                    <div class="faq-section">
                        <h3>Questions fréquentes</h3>
                        <div class="faq-list">
                            <div class="faq-item">
                                <h4>Comment changer mon mot de passe ?</h4>
                                <p>Allez dans Configuration > Sécurité > Changer le mot de passe</p>
                            </div>
                            <div class="faq-item">
                                <h4>Comment faire un virement ?</h4>
                                <p>Accédez à Transactions > Nouveau virement et suivez les étapes</p>
                            </div>
                            <div class="faq-item">
                                <h4>Quels sont les frais de retrait ?</h4>
                                <p>Les retraits dans nos GAB sont gratuits, 500 XAF dans les autres réseaux</p>
                            </div>
                            <div class="faq-item">
                                <h4>Comment bloquer ma carte ?</h4>
                                <p>Appelez le service client ou utilisez l'option dans l'application</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="settingsContent" class="content-panel">
                    <h2>Configuration</h2>
                    <p>Paramètres de votre compte</p>
                </div>
                
                <div id="notificationsContent" class="content-panel">
                    <h2>Notifications</h2>
                    <p>Vos alertes et notifications</p>
                    
                    <!-- Liste des notifications -->
                    <div class="notifications-list">
                        <div class="notification-item unread">
                            <div class="notification-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <div class="notification-details">
                                <h4>Virement reçu</h4>
                                <p>Vous avez reçu un virement de 150 000 XAF de MARTIN KOUAME</p>
                                <span class="notification-time">Il y a 2 heures</span>
                            </div>
                            <div class="notification-status">
                                <span class="unread-dot"></span>
                            </div>
                        </div>
                        
                        <div class="notification-item unread">
                            <div class="notification-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="notification-details">
                                <h4>Intérêts calculés</h4>
                                <p>Vos intérêts d'épargne de ce mois ont été calculés : +12 500 XAF</p>
                                <span class="notification-time">Il y a 1 jour</span>
                            </div>
                            <div class="notification-status">
                                <span class="unread-dot"></span>
                            </div>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="notification-details">
                                <h4>Paiement carte</h4>
                                <p>Paiement de 25 000 XAF effectué chez SUPERMARCHÉ CARREFOUR</p>
                                <span class="notification-time">Il y a 2 jours</span>
                            </div>
                            <div class="notification-status">
                                <span class="read-dot"></span>
                            </div>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div class="notification-details">
                                <h4>Rappel épargne</h4>
                                <p>N'oubliez pas de faire votre dépôt mensuel pour maximiser vos intérêts</p>
                                <span class="notification-time">Il y a 3 jours</span>
                            </div>
                            <div class="notification-status">
                                <span class="read-dot"></span>
                            </div>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="notification-details">
                                <h4>Sécurité</h4>
                                <p>Connexion détectée depuis un nouvel appareil. Si ce n'était pas vous, contactez-nous.</p>
                                <span class="notification-time">Il y a 5 jours</span>
                            </div>
                            <div class="notification-status">
                                <span class="read-dot"></span>
                            </div>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-gift"></i>
                            </div>
                            <div class="notification-details">
                                <h4>Offre spéciale</h4>
                                <p>Profitez de notre offre crédit immobilier à taux préférentiel jusqu'au 31 mars</p>
                                <span class="notification-time">Il y a 1 semaine</span>
                            </div>
                            <div class="notification-status">
                                <span class="read-dot"></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Actions sur les notifications -->
                    <div class="notification-actions">
                        <button class="action-btn mark-all-read">Marquer tout comme lu</button>
                        <button class="action-btn clear-read">Supprimer les lues</button>
                    </div>
                </div>
                
                <div id="adminContent" class="content-panel">
                    <h2>Administration</h2>
                    <p>Interface d'administration du système</p>
                    
                    <!-- Statistiques dynamiques -->
                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-details">
                                <h3>Utilisateurs</h3>
                                <span class="stat-number" id="adminUsersCount">-</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="stat-details">
                                <h3>Comptes</h3>
                                <span class="stat-number" id="adminAccountsCount">-</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div class="stat-details">
                                <h3>Transactions</h3>
                                <span class="stat-number" id="adminTransactionsCount">-</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-details">
                                <h3>Volume Total</h3>
                                <span class="stat-number" id="adminTotalVolume">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Actions d'administration -->
                    <div class="admin-actions">
                        <div class="admin-section">
                            <h3>Gestion des Comptes</h3>
                            <div class="admin-buttons">
                                <button class="admin-btn" onclick="adminVoirComptes()">
                                    <i class="fas fa-list"></i>
                                    Voir tous les comptes
                                </button>
                                <button class="admin-btn" onclick="adminModifierCompte()">
                                    <i class="fas fa-edit"></i>
                                    Modifier un compte
                                </button>
                            </div>
                        </div>
                        
                        <div class="admin-section">
                            <h3>Gestion des Transactions</h3>
                            <div class="admin-buttons">
                                <button class="admin-btn" onclick="adminVoirTransactions()">
                                    <i class="fas fa-list"></i>
                                    Voir toutes les transactions
                                </button>
                                <button class="admin-btn" onclick="adminAjouterTransaction()">
                                    <i class="fas fa-plus"></i>
                                    Ajouter une transaction
                                </button>
                                <button class="admin-btn" onclick="adminModifierTransaction()">
                                    <i class="fas fa-edit"></i>
                                    Modifier une transaction
                                </button>
                            </div>
                        </div>
                        
                        
                        <div class="admin-section">
                            <h3>Paramètres Système</h3>
                            <div class="admin-buttons">
                                <button class="admin-btn" onclick="adminViderBase()">
                                    <i class="fas fa-database"></i>
                                    Vider la base de données
                                </button>
                                <button class="admin-btn" onclick="adminForcerReinit()" style="background: #dc3545;">
                                    <i class="fas fa-refresh"></i>
                                    Forcer réinitialisation
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Zone d'affichage des données -->
                    <div id="adminDataDisplay" class="admin-data-display" style="display: none;">
                        <h3 id="adminDataTitle">Données</h3>
                        <div id="adminDataContent"></div>
                        <button class="admin-btn" onclick="adminFermerAffichage()" style="margin-top: 1rem;">
                            <i class="fas fa-times"></i>
                            Fermer
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 BAMBOO. Tous droits réservés.</p>
        </div>
    </footer>

    <script src="database.js"></script>
<script>// JavaScript BAMBOO - Version Complète avec Administration Avancée
    document.addEventListener('DOMContentLoaded', function() {
        console.log('🚀 Initialisation BAMBOO...');
        
        // ============================================
        // 1. VARIABLES GLOBALES
        // ============================================
        let bambooDB = null;
        let currentAccountIndex = 0;
        
        // Comptes chargés dynamiquement depuis IndexedDB
        let accounts = [];
    
        // ============================================
        // 2. FONCTIONS UTILITAIRES
        // ============================================
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? '#dc3545' : type === 'success' ? '#28a745' : '#4A9E04'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                z-index: 10000;
                box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                font-family: inherit;
                max-width: 300px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.remove(), 3000);
        }
    
        function updateAccountDisplay() {
            if (accounts.length === 0) {
                console.log('⏳ Aucun compte chargé, réessai dans 1s...');
                setTimeout(updateAccountDisplay, 1000);
                return;
            }
            
            const account = accounts[currentAccountIndex];
            const accountType = document.getElementById('accountType');
            const accountNumber = document.getElementById('accountNumber');
            const balanceValue = document.getElementById('balanceValue');
            const prevBtn = document.getElementById('prevAccount');
            const nextBtn = document.getElementById('nextAccount');
            
            if (accountType) accountType.textContent = account.type;
            if (accountNumber) accountNumber.textContent = account.number;
            if (balanceValue) balanceValue.textContent = account.balance;
            
            if (prevBtn) prevBtn.disabled = currentAccountIndex === 0;
            if (nextBtn) nextBtn.disabled = currentAccountIndex >= accounts.length - 1;
            
            console.log('💰 Affichage compte mis à jour:', account);
        }
    
        function formatCurrency(amount) {
            return new Intl.NumberFormat('fr-FR').format(amount) + ' FCFA';
        }
    
        function formatDate(date) {
            return new Date(date).toLocaleDateString('fr-FR');
        }
    
        function generateReference() {
            return 'TXN' + Date.now().toString(36).toUpperCase();
        }
    
        // ============================================
        // 3. GESTION DU MENU
        // ============================================
        const menuBtn = document.getElementById('menuBtn');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const closeSidebar = document.getElementById('closeSidebar');
    
        function openMenu() {
            if (sidebar) sidebar.classList.add('open');
            if (overlay) overlay.classList.add('show');
            console.log('✅ Menu ouvert');
        }
    
        function closeMenu() {
            if (sidebar) sidebar.classList.remove('open');
            if (overlay) overlay.classList.remove('show');
            console.log('✅ Menu fermé');
        }
    
        // Événements menu
        if (menuBtn) {
            menuBtn.onclick = function(e) {
                e.preventDefault();
                openMenu();
            };
        }
    
        if (closeSidebar) {
            closeSidebar.onclick = function(e) {
                e.preventDefault();
                closeMenu();
            };
        }
    
        if (overlay) {
            overlay.onclick = function(e) {
                e.preventDefault();
                closeMenu();
            };
        }
    
        // ============================================
        // 4. NAVIGATION SIDEBAR
        // ============================================
        const sidebarLinks = document.querySelectorAll('.sidebar-nav a');
        const contentPanels = document.querySelectorAll('.content-panel');
        const sidebarItems = document.querySelectorAll('.sidebar-nav li');
    
        sidebarLinks.forEach(function(link) {
            link.onclick = function(e) {
                e.preventDefault();
                
                const href = this.getAttribute('href');
                console.log('📍 Navigation vers:', href);
                
                // Retirer classe active
                sidebarItems.forEach(item => item.classList.remove('active'));
                contentPanels.forEach(panel => panel.classList.remove('active'));
                
                // Ajouter classe active
                this.parentElement.classList.add('active');
                
                // Afficher contenu
                const targetId = href.substring(1) + 'Content';
                const targetPanel = document.getElementById(targetId);
                if (targetPanel) {
                    targetPanel.classList.add('active');
                    console.log('✅ Panneau affiché:', targetId);
                    
                    // Actualiser stats si admin
                    if (targetId === 'adminContent') {
                        setTimeout(adminActualiserStats, 100);
                    }
                }
                
                closeMenu();
            };
        });
    
        // ============================================
        // 5. TOGGLE SOLDE
        // ============================================
        const toggleBtn = document.getElementById('toggleBalance');
        if (toggleBtn) {
            toggleBtn.onclick = function(e) {
                e.preventDefault();
                
                const balanceText = document.getElementById('balanceText');
                const balanceValue = document.getElementById('balanceValue');
                const balanceIcon = document.getElementById('balanceIcon');
                
                if (balanceText && balanceValue && balanceIcon) {
                    if (balanceText.style.display === 'none') {
                        // Masquer
                        balanceText.style.display = 'block';
                        balanceValue.style.display = 'none';
                        balanceIcon.className = 'fas fa-eye';
                    } else {
                        // Afficher
                        balanceText.style.display = 'none';
                        balanceValue.style.display = 'block';
                        balanceIcon.className = 'fas fa-eye-slash';
                    }
                    console.log('👁️ Toggle solde');
                }
            };
        }
    
        // ============================================
        // 6. NAVIGATION COMPTES
        // ============================================
        const prevBtn = document.getElementById('prevAccount');
        const nextBtn = document.getElementById('nextAccount');
        
        if (prevBtn) {
            prevBtn.onclick = function(e) {
                e.preventDefault();
                if (currentAccountIndex > 0) {
                    currentAccountIndex--;
                    updateAccountDisplay();
                    console.log('⬅️ Compte précédent');
                }
            };
        }
        
        if (nextBtn) {
            nextBtn.onclick = function(e) {
                e.preventDefault();
                if (currentAccountIndex < accounts.length - 1) {
                    currentAccountIndex++;
                    updateAccountDisplay();
                    console.log('➡️ Compte suivant');
                }
            };
        }
    
        // ============================================
        // 7. BOUTONS HEADER
        // ============================================
        const logoutBtn = document.getElementById('logoutBtn');
        if (logoutBtn) {
            logoutBtn.onclick = function(e) {
                e.preventDefault();
                if (confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                    console.log('🚪 Déconnexion');
                    window.location.href = 'login.html';
                }
            };
        }
    
        const notificationBtn = document.getElementById('notificationBtn');
        if (notificationBtn) {
            notificationBtn.onclick = function(e) {
                e.preventDefault();
                
                // Retirer classe active
                sidebarItems.forEach(item => item.classList.remove('active'));
                contentPanels.forEach(panel => panel.classList.remove('active'));
                
                // Afficher notifications
                const notificationsPanel = document.getElementById('notificationsContent');
                if (notificationsPanel) {
                    notificationsPanel.classList.add('active');
                    console.log('🔔 Notifications ouvertes');
                }
            };
        }
    
        // ============================================
        // 8. TOUS LES AUTRES BOUTONS
        // ============================================
        const allButtons = document.querySelectorAll('button:not([id]):not(.close-sidebar):not(.admin-btn)');
        
        allButtons.forEach(function(button, index) {
            button.onclick = function(e) {
                e.preventDefault();
                
                const buttonText = this.textContent.trim();
                console.log(`🔘 Bouton cliqué: "${buttonText}"`);
                
                // Actions spécifiques
                switch(buttonText) {
                    case 'Ajouter':
                        showNotification('Fonction Ajouter une carte', 'info');
                        break;
                    case 'Demander':
                        showNotification('Demande de crédit initiée', 'success');
                        break;
                    case 'Appeler':
                        window.open('tel:+24101234567');
                        showNotification('Ouverture de l\'application téléphone...', 'info');
                        break;
                    case 'Écrire':
                        window.open('mailto:support@bamboo.ga');
                        showNotification('Ouverture de l\'email...', 'info');
                        break;
                    case 'Chatter':
                        showNotification('Chat en ligne bientôt disponible', 'info');
                        break;
                    case 'Localiser':
                        showNotification('Géolocalisation des agences...', 'info');
                        break;
                    case 'Demander l\'avance':
                        const amount = document.querySelector('input[type="number"]')?.value;
                        if (amount) {
                            showNotification(`Demande d'avance de ${formatCurrency(amount)} traitée`, 'success');
                        } else {
                            showNotification('Veuillez saisir un montant', 'error');
                        }
                        break;
                    case 'Marquer tout comme lu':
                        markAllNotificationsAsRead();
                        break;
                    case 'Supprimer les lues':
                        clearReadNotifications();
                        break;
                    default:
                        showNotification(`Action: ${buttonText}`, 'info');
                }
            };
        });
    
        // ============================================
        // 9. GESTION DES NOTIFICATIONS
        // ============================================
        function markAllNotificationsAsRead() {
            const notificationItems = document.querySelectorAll('.notification-item');
            notificationItems.forEach(function(item) {
                item.classList.remove('unread');
                const dot = item.querySelector('.unread-dot');
                if (dot) dot.className = 'read-dot';
            });
            showNotification('Toutes les notifications marquées comme lues', 'success');
        }
    
        function clearReadNotifications() {
            const readItems = document.querySelectorAll('.notification-item:not(.unread)');
            let count = readItems.length;
            readItems.forEach(function(item) {
                item.style.opacity = '0';
                setTimeout(() => item.remove(), 300);
            });
            showNotification(`${count} notifications lues supprimées`, 'success');
        }
    
        // Clic sur notification individuelle
        const notificationItems = document.querySelectorAll('.notification-item');
        notificationItems.forEach(function(item) {
            item.onclick = function() {
                this.classList.remove('unread');
                const dot = this.querySelector('.unread-dot');
                if (dot) dot.className = 'read-dot';
            };
        });
    
        // ============================================
        // 10. INITIALISATION BASE DE DONNÉES
        // ============================================
        async function initDatabase() {
            try {
                if (typeof BambooDatabase !== 'undefined') {
                    bambooDB = new BambooDatabase();
                    await bambooDB.init();
                    await bambooDB.initialiserDonneesDemo();
                    console.log('💾 Base de données initialisée');
                    
                    // Charger les comptes depuis IndexedDB
                    await loadAccountsFromDB();
                    
                    // Charger les transactions depuis IndexedDB
                    await loadTransactionsFromDB();
                    
                    // Auto-actualisation des stats toutes les 30 secondes
                    setInterval(adminActualiserStats, 30000);
                    
                    // Actualiser les stats admin immédiatement
                    setTimeout(adminActualiserStats, 100);
                    setTimeout(adminActualiserStats, 2000);
                    setTimeout(adminActualiserStats, 5000);
                }
            } catch (error) {
                console.error('❌ Erreur base de données:', error);
                showNotification('Erreur initialisation base de données', 'error');
            }
        }

        // Charger les comptes depuis IndexedDB
        async function loadAccountsFromDB() {
            if (!bambooDB) return;
            
            try {
                const comptes = await bambooDB.obtenirComptes();
                // Filtrer seulement les comptes de EYENG ASSOUMOU
                const comptesEyeng = comptes.filter(compte => compte.utilisateur === 'EYENG ASSOUMOU');
                accounts = comptesEyeng.map(compte => ({
                    id: compte.id,
                    type: compte.type.toUpperCase(),
                    number: `N° ${compte.numero}`,
                    balance: formatCurrency(compte.solde),
                    solde: compte.solde
                }));
                
                console.log('📊 Comptes chargés depuis IndexedDB:', accounts);
                
                // Mettre à jour l'affichage
                updateAccountDisplay();
                updatePatrimoineChart(); // Mettre à jour le diagramme
            } catch (error) {
                console.error('❌ Erreur chargement comptes:', error);
            }
        }

        // Fonction pour charger les transactions depuis IndexedDB
        async function loadTransactionsFromDB() {
            if (!bambooDB) return;
            
            try {
                const transactions = await bambooDB.obtenirTransactions();
                console.log('📊 Transactions chargées depuis IndexedDB:', transactions);
                
                // Mettre à jour l'affichage des transactions
                updateTransactionsDisplay(transactions);
            } catch (error) {
                console.error('❌ Erreur chargement transactions:', error);
            }
        }

        // Fonction pour mettre à jour l'affichage des transactions
        function updateTransactionsDisplay(transactions) {
            const transactionsList = document.querySelector('.transactions-list');
            if (!transactionsList) return;

            // Trier par date (plus récent en premier)
            const sortedTransactions = transactions.sort((a, b) => new Date(b.date) - new Date(a.date));

            let html = '';
            sortedTransactions.forEach(transaction => {
                const isPositive = transaction.type === 'depot' || transaction.type === 'virement_recu';
                const amountClass = isPositive ? 'positive' : 'negative';
                const amountPrefix = isPositive ? '+' : '-';
                
                // Choisir l'icône selon le type
                let iconClass = 'fas fa-exchange-alt';
                if (transaction.type === 'depot' || transaction.type === 'virement_recu') {
                    iconClass = 'fas fa-arrow-up text-success';
                } else if (transaction.type === 'retrait' || transaction.type === 'virement_envoye') {
                    iconClass = 'fas fa-arrow-down text-danger';
                } else if (transaction.type === 'paiement_carte') {
                    iconClass = 'fas fa-credit-card text-warning';
                } else if (transaction.type === 'recharge_mobile') {
                    iconClass = 'fas fa-mobile-alt text-info';
                }

                // Formater la date
                const date = new Date(transaction.date);
                const formattedDate = date.toLocaleDateString('fr-FR', { 
                    day: 'numeric', 
                    month: 'short', 
                    year: 'numeric' 
                });

                html += `
                    <div class="transaction-item">
                        <div class="transaction-icon">
                            <i class="${iconClass}"></i>
                        </div>
                        <div class="transaction-details">
                            <h4>${transaction.description}</h4>
                            <p>${transaction.beneficiaire || transaction.reference}</p>
                            <span class="transaction-date">${formattedDate}</span>
                        </div>
                        <div class="transaction-amount ${amountClass}">${amountPrefix} ${formatCurrency(transaction.montant)}</div>
                    </div>
                `;
            });

            transactionsList.innerHTML = html;
        }

        // Fonction pour mettre à jour le diagramme de patrimoine
        window.updatePatrimoineChart = async function() {
            if (!bambooDB) return;
            
            try {
                const comptes = await bambooDB.obtenirComptes();
                
                // Calculer les montants
                let compteCourant = 0;
                let compteEpargne = 0;
                let interetsEpargne = 0;
                let interetsAvenir = 0;
                
                comptes.forEach(compte => {
                    // Ne prendre que les comptes de EYENG ASSOUMOU
                    if (compte.utilisateur === 'EYENG ASSOUMOU') {
                        console.log('🔍 Compte EYENG trouvé:', compte.type, 'Solde:', compte.solde);
                        switch(compte.type.toLowerCase()) {
                            case 'courant':
                                compteCourant = compte.solde;
                                break;
                            case 'epargne':
                                compteEpargne = compte.solde;
                                break;
                            case 'interets':
                                interetsEpargne = compte.solde;
                                break;
                            case 'interets_futurs':
                                interetsAvenir = compte.solde;
                                break;
                        }
                    }
                });
                
                // Calculer le total des comptes principaux (courant + épargne)
                const totalComptes = compteCourant + compteEpargne;
                
                const totalPatrimoine = totalComptes + interetsEpargne + interetsAvenir;
                
                // Calculer les pourcentages
                const pourcentageComptes = totalPatrimoine > 0 ? (totalComptes / totalPatrimoine * 100) : 0;
                const pourcentageInterets = totalPatrimoine > 0 ? (interetsEpargne / totalPatrimoine * 100) : 0;
                const pourcentageAvenir = totalPatrimoine > 0 ? (interetsAvenir / totalPatrimoine * 100) : 0;
                
                // Mettre à jour le texte central
                const centerAmount = document.querySelector('.chart-center-amount');
                if (centerAmount) {
                    centerAmount.textContent = formatCurrency(totalPatrimoine).replace(' FCFA', '');
                }
                
                // Mettre à jour la légende
                const legendItems = document.querySelectorAll('.legend-item');
                if (legendItems.length >= 3) {
                    // Comptes (Courant + Épargne)
                    const epargneAmount = legendItems[0].querySelector('.legend-amount');
                    const epargnePercentage = legendItems[0].querySelector('.legend-percentage');
                    if (epargneAmount) epargneAmount.textContent = formatCurrency(totalComptes);
                    if (epargnePercentage) epargnePercentage.textContent = pourcentageComptes.toFixed(1) + '%';
                    
                    // Intérêts Épargne
                    const interetsAmount = legendItems[1].querySelector('.legend-amount');
                    const interetsPercentage = legendItems[1].querySelector('.legend-percentage');
                    if (interetsAmount) interetsAmount.textContent = formatCurrency(interetsEpargne);
                    if (interetsPercentage) interetsPercentage.textContent = pourcentageInterets.toFixed(1) + '%';
                    
                    // Intérêts à venir
                    const avenirAmount = legendItems[2].querySelector('.legend-amount');
                    const avenirPercentage = legendItems[2].querySelector('.legend-percentage');
                    if (avenirAmount) avenirAmount.textContent = formatCurrency(interetsAvenir);
                    if (avenirPercentage) avenirPercentage.textContent = pourcentageAvenir.toFixed(1) + '%';
                }
                
                // Mettre à jour les attributs data pour les segments du graphique
                const segments = document.querySelectorAll('.chart-segment');
                if (segments.length >= 3) {
                    segments[0].setAttribute('data-amount', formatCurrency(compteEpargne));
                    segments[1].setAttribute('data-amount', formatCurrency(interetsEpargne));
                    segments[2].setAttribute('data-amount', formatCurrency(interetsAvenir));
                }
                
                console.log('📊 Diagramme de patrimoine mis à jour:', {
                    total: totalPatrimoine,
                    epargne: compteEpargne,
                    interets: interetsEpargne,
                    avenir: interetsAvenir
                });
                
            } catch (error) {
                console.error('Erreur mise à jour diagramme:', error);
            }
        };
    
        // ============================================
        // 11. FONCTIONS ADMINISTRATION COMPLÈTES
        // ============================================
        
        // Actualiser statistiques admin - Mise à jour automatique
        window.adminActualiserStats = async function() {
            if (!bambooDB) {
                console.log('⏳ Base de données pas encore prête, réessai dans 1s...');
                setTimeout(adminActualiserStats, 1000);
                return;
            }
            
            try {
                const [comptes, transactions, utilisateurs] = await Promise.all([
                    bambooDB.obtenirComptes(),
                    bambooDB.obtenirTransactions(), 
                    bambooDB.obtenirUtilisateurs()
                ]);
    
                // Filtrer tous les comptes d'EYENG pour les stats (courant + patrimoine)
                const comptesEyeng = comptes.filter(compte => 
                    compte.utilisateur === 'EYENG ASSOUMOU'
                );
                
                // Calculer le volume total basé sur tous les comptes d'EYENG
                const volumeTotal = comptesEyeng.reduce((total, compte) => total + compte.solde, 0);
                
                const usersCount = document.getElementById('adminUsersCount');
                const accountsCount = document.getElementById('adminAccountsCount'); 
                const transactionsCount = document.getElementById('adminTransactionsCount');
                const totalVolume = document.getElementById('adminTotalVolume');
                
                if (usersCount) usersCount.textContent = utilisateurs.length;
                if (accountsCount) accountsCount.textContent = comptesEyeng.length; // Tous les comptes d'EYENG
                if (transactionsCount) transactionsCount.textContent = transactions.length;
                if (totalVolume) totalVolume.textContent = formatCurrency(volumeTotal);
                
                console.log('📊 Stats admin mises à jour automatiquement');
            } catch (error) {
                console.error('❌ Erreur stats admin:', error);
            }
        };
    
        // Fonctions d'affichage admin
        function adminAfficherDonnees(titre, contenu) {
            const display = document.getElementById('adminDataDisplay');
            const title = document.getElementById('adminDataTitle');
            const content = document.getElementById('adminDataContent');
            
            if (title) title.textContent = titre;
            if (content) content.innerHTML = contenu;
            if (display) display.style.display = 'block';
            
            // Scroll vers la zone d'affichage
            display?.scrollIntoView({ behavior: 'smooth' });
        }
    
        window.adminFermerAffichage = function() {
            const display = document.getElementById('adminDataDisplay');
            if (display) display.style.display = 'none';
        };
    
        // ============================================
        // 🏦 GESTION DES COMPTES - COMPLET
        // ============================================
        
        window.adminVoirComptes = async function() {
            console.log('🔍 adminVoirComptes appelée');
            if (!bambooDB) {
                console.log('❌ Base de données non disponible');
                showNotification('Base de données non initialisée', 'error');
                return;
            }
            
            try {
                const comptes = await bambooDB.obtenirComptes();
                // Filtrer seulement les 3 comptes de patrimoine d'EYENG
                const comptesPatrimoine = comptes.filter(compte => 
                    compte.utilisateur === 'EYENG ASSOUMOU' && 
                    (compte.type === 'epargne' || compte.type === 'interets' || compte.type === 'interets_futurs')
                );
                
                let contenu = '';
                
                if (comptesPatrimoine.length === 0) {
                    contenu = '<p style="text-align: center; color: #666;">Aucun compte de patrimoine trouvé</p>';
                } else {
                    comptesPatrimoine.forEach(compte => {
                        const typeDisplay = compte.type === 'epargne' ? 'Compte Épargne' : 
                                          compte.type === 'interets' ? 'Intérêts Épargne' : 
                                          'Intérêts à venir';
                                          
                        contenu += `
                            <div class="data-item">
                                <h4>${typeDisplay} - ${compte.numero}</h4>
                                <p><strong>Solde:</strong> <span class="data-value">${formatCurrency(compte.solde)}</span></p>
                                <p><strong>Utilisateur:</strong> ${compte.utilisateur}</p>
                                <p><strong>Statut:</strong> <span style="color: ${compte.statut === 'actif' ? '#28a745' : '#dc3545'}">${compte.statut}</span></p>
                                <p><strong>Date création:</strong> ${formatDate(compte.dateCreation)}</p>
                                <p><strong>Description:</strong> ${compte.description || 'Aucune'}</p>
                            </div>
                        `;
                    });
                }
                
                adminAfficherDonnees(`Comptes de Patrimoine (${comptesPatrimoine.length})`, contenu);
            } catch (error) {
                console.error('Erreur récupération comptes:', error);
                showNotification('Erreur récupération comptes', 'error');
            }
        };
    
    

        // Modifier un compte
        window.adminModifierCompte = async function() {
            if (!bambooDB) {
                showNotification('Base de données non initialisée', 'error');
                return;
            }
            
            try {
                const comptes = await bambooDB.obtenirComptes();
                // Filtrer seulement les 3 comptes de patrimoine d'EYENG
                const comptesPatrimoine = comptes.filter(compte => 
                    compte.utilisateur === 'EYENG ASSOUMOU' && 
                    (compte.type === 'epargne' || compte.type === 'interets' || compte.type === 'interets_futurs')
                );
                
                let contenu = '';

                if (comptesPatrimoine.length === 0) {
                    contenu = '<p>Aucun compte de patrimoine à modifier</p>';
                } else {
                    comptesPatrimoine.forEach(compte => {
                        const typeDisplay = compte.type === 'epargne' ? 'Compte Épargne' : 
                                          compte.type === 'interets' ? 'Intérêts Épargne' : 
                                          'Intérêts à venir';
                                          
                        contenu += `
                            <div class="data-item">
                                <h4>${typeDisplay} - ${compte.numero}</h4>
                                <p><strong>Solde actuel:</strong> <span class="data-value">${formatCurrency(compte.solde)}</span></p>
                                <p><strong>Utilisateur:</strong> ${compte.utilisateur}</p>
                                <div class="admin-form-group" style="margin-top: 1rem;">
                                    <label>Nouveau solde:</label>
                                    <input type="number" id="newBalance_${compte.id}" value="${compte.solde}" step="0.01">
                                </div>
                                <button class="admin-btn" onclick="adminConfirmerModificationCompte(${compte.id})" style="background: #28a745; margin-top: 0.5rem;">
                                    <i class="fas fa-save"></i>
                                    Modifier le solde
                                </button>
                            </div>
                        `;
                    });
                }

                adminAfficherDonnees('Modifier les Comptes de Patrimoine', contenu);
            } catch (error) {
                console.error('Erreur récupération comptes:', error);
                showNotification('Erreur récupération comptes', 'error');
            }
        };

        // Confirmer modification du solde
        window.adminConfirmerModificationCompte = async function(compteId) {
            if (!bambooDB) return;

            const newBalanceInput = document.getElementById(`newBalance_${compteId}`);
            const newBalance = parseFloat(newBalanceInput.value);

            if (isNaN(newBalance) || newBalance < 0) {
                showNotification('Veuillez entrer un montant valide', 'error');
                return;
            }

            try {
                await bambooDB.mettreAJourSolde(compteId, newBalance);
                showNotification('Solde modifié avec succès!', 'success');
                
                // Recharger les comptes côté client
                loadAccountsFromDB();
                
                // Mettre à jour le diagramme de patrimoine
                updatePatrimoineChart();
                
                // Rafraîchir l'affichage admin
                adminModifierCompte();
                await adminActualiserStats();
            } catch (error) {
                console.error('Erreur modification solde:', error);
                showNotification('Erreur modification solde: ' + error.message, 'error');
            }
        };
    
        // ============================================
        // 💳 GESTION DES TRANSACTIONS - COMPLET
        // ============================================
        
        window.adminVoirTransactions = async function() {
            console.log('🔍 adminVoirTransactions appelée');
            if (!bambooDB) return;
            
            try {
                const transactions = await bambooDB.obtenirTransactions();
                let contenu = '';
                
                if (transactions.length === 0) {
                    contenu = '<p style="text-align: center; color: #666;">Aucune transaction trouvée</p>';
                } else {
                    // Trier par date (plus récent en premier)
                    transactions.sort((a, b) => new Date(b.date) - new Date(a.date));
                    
                    transactions.forEach(transaction => {
                        const montantFormatted = formatCurrency(transaction.montant);
                        const dateFormatted = formatDate(transaction.date);
                        const timeFormatted = new Date(transaction.date).toLocaleTimeString('fr-FR');
                        
                        contenu += `
                            <div class="data-item">
                                <h4>${transaction.type.toUpperCase()} - ${transaction.reference}</h4>
                                <p><strong>Montant:</strong> <span class="data-value" style="color: ${transaction.type === 'depot' ? '#28a745' : '#dc3545'}">${montantFormatted}</span></p>
                                <p><strong>Description:</strong> ${transaction.description}</p>
                                <p><strong>Date:</strong> ${dateFormatted} à ${timeFormatted}</p>
                                <p><strong>Statut:</strong> <span style="color: ${transaction.statut === 'validee' ? '#28a745' : '#ffc107'}">${transaction.statut}</span></p>
                                ${transaction.beneficiaire ? `<p><strong>Bénéficiaire:</strong> ${transaction.beneficiaire}</p>` : ''}
                            </div>
                        `;
                    });
                }
                
                adminAfficherDonnees(`Liste des Transactions (${transactions.length})`, contenu);
            } catch (error) {
                console.error('Erreur récupération transactions:', error);
                showNotification('Erreur récupération transactions', 'error');
            }
        };
    
        window.adminAjouterTransaction = async function() {
            if (!bambooDB) return;
    
            try {
                const comptes = await bambooDB.obtenirComptes();
                // Filtrer seulement les comptes COURANT et EPARGNE d'EYENG
                const comptesOperables = comptes.filter(compte => 
                    compte.utilisateur === 'EYENG ASSOUMOU' && 
                    (compte.type === 'courant' || compte.type === 'epargne')
                );
                
                let optionsComptes = '<option value="">Sélectionnez un compte</option>';
                comptesOperables.forEach(compte => {
                    const typeDisplay = compte.type === 'courant' ? 'Compte Courant' : 'Compte Épargne';
                    optionsComptes += `<option value="${compte.id}">${typeDisplay} - ${compte.numero}</option>`;
                });
    
                const contenu = `
                    <div class="admin-form">
                        <h4>Ajouter une nouvelle transaction</h4>
                        <div class="admin-form-group">
                            <label>Compte *:</label>
                            <select id="newTransactionAccount" required onchange="updateBalanceInfo()">
                                ${optionsComptes}
                            </select>
                            <small id="balanceInfo" style="color: #666;"></small>
                        </div>
                        <div class="admin-form-group">
                            <label>Type de transaction *:</label>
                            <select id="newTransactionType" required>
                                <option value="">Sélectionnez un type</option>
                                <option value="depot">Dépôt (+)</option>
                                <option value="retrait">Retrait (-)</option>
                                <option value="virement_entrant">Virement entrant (+)</option>
                                <option value="virement_sortant">Virement sortant (-)</option>
                                <option value="paiement">Paiement (-)</option>
                                <option value="interets">Intérêts (+)</option>
                                <option value="frais">Frais (-)</option>
                            </select>
                        </div>
                        <div class="admin-form-group">
                            <label>Montant * (en ${comptes[0]?.devise || 'FCFA'}):</label>
                            <input type="number" id="newTransactionAmount" placeholder="0" step="0.01" min="0.01" required>
                        </div>
                        <div class="admin-form-group">
                            <label>Description *:</label>
                            <input type="text" id="newTransactionDescription" placeholder="Description de la transaction" required>
                        </div>
                        <div class="admin-form-group">
                            <label>Bénéficiaire (optionnel):</label>
                            <input type="text" id="newTransactionBeneficiary" placeholder="Nom du bénéficiaire">
                        </div>
                        <div class="admin-form-group">
                            <label>Date:</label>
                            <input type="datetime-local" id="newTransactionDate" value="${new Date().toISOString().slice(0, 16)}">
                        </div>
                        <div class="admin-form-buttons">
                            <button class="admin-btn" onclick="adminCreerTransaction()" style="background: #28a745;">
                                <i class="fas fa-save"></i>
                                Créer la transaction
                            </button>
                            <button class="admin-btn" onclick="adminFermerAffichage()" style="background: #dc3545;">
                                <i class="fas fa-times"></i>
                                Annuler
                            </button>
                        </div>
                    </div>
                `;
    
                adminAfficherDonnees('Ajouter une Transaction', contenu);
                
                // Fonction pour mettre à jour l'info du solde
                window.updateBalanceInfo = function() {
                    const select = document.getElementById('newTransactionAccount');
                    const info = document.getElementById('balanceInfo');
                    const compteId = parseInt(select.value);
                    
                    if (compteId) {
                        const compte = comptes.find(c => c.id === compteId);
                        if (compte && info) {
                            info.textContent = `Solde actuel: ${formatCurrency(compte.solde)}`;
                        }
                    }
                };
                
            } catch (error) {
                console.error('Erreur récupération comptes:', error);
                showNotification('Erreur récupération comptes', 'error');
            }
        };
    
        window.adminCreerTransaction = async function() {
            if (!bambooDB) return;
    
            const compteId = parseInt(document.getElementById('newTransactionAccount').value);
            const type = document.getElementById('newTransactionType').value;
            const montant = parseFloat(document.getElementById('newTransactionAmount').value);
            const description = document.getElementById('newTransactionDescription').value.trim();
            const beneficiaire = document.getElementById('newTransactionBeneficiary').value.trim();
            const date = document.getElementById('newTransactionDate').value;
    
            // Validation
            if (!compteId || !type || !montant || !description) {
                showNotification('Veuillez remplir tous les champs obligatoires (*)', 'error');
                return;
            }
    
            if (montant <= 0) {
                showNotification('Le montant doit être supérieur à zéro', 'error');
                return;
            }
    
            try {
                const reference = generateReference();
                const transactionDate = date ? new Date(date) : new Date();
                
                // Récupérer le compte pour vérifier le solde
                const compte = await bambooDB.obtenirCompteParId(compteId);
                if (!compte) {
                    showNotification('Compte non trouvé', 'error');
                    return;
                }
                
                // Déterminer si c'est un crédit ou un débit
                const isCredit = type === 'depot' || type === 'virement_entrant' || type === 'interets';
                const isDebit = type === 'retrait' || type === 'virement_sortant' || type === 'paiement' || type === 'frais';
                
                if (!isCredit && !isDebit) {
                    showNotification('Type de transaction non reconnu', 'error');
                    return;
                }
                
                // Vérifier le solde pour les débits
                if (isDebit && compte.solde < montant) {
                    showNotification(`Solde insuffisant! Solde actuel: ${formatCurrency(compte.solde)}`, 'error');
                    return;
                }
                
                // Calculer le nouveau solde
                const nouveauSolde = isCredit ? 
                    compte.solde + montant : 
                    compte.solde - montant;
                
                // Créer la transaction
                await bambooDB.ajouterTransaction({
                    compteId: compteId,
                    type: type,
                    montant: montant,
                    description: description,
                    beneficiaire: beneficiaire,
                    reference: reference,
                    date: transactionDate,
                    statut: 'validee'
                });
                
                // Mettre à jour le solde du compte
                await bambooDB.mettreAJourSolde(compteId, nouveauSolde);
                
                const operation = isCredit ? 'ajouté' : 'retiré';
                showNotification(`Transaction ${reference} créée avec succès! ${formatCurrency(montant)} ${operation} du compte.`, 'success');
                
                // Recharger les données côté client
                await loadAccountsFromDB();
                await loadTransactionsFromDB();
                
                adminFermerAffichage();
                await adminActualiserStats();
            } catch (error) {
                console.error('Erreur création transaction:', error);
                showNotification('Erreur création transaction: ' + error.message, 'error');
            }
        };
    

        // Modifier une transaction
        window.adminModifierTransaction = async function() {
            if (!bambooDB) {
                showNotification('Base de données non initialisée', 'error');
                return;
            }
            
            try {
                const transactions = await bambooDB.obtenirTransactions();
                let contenu = '';

                if (transactions.length === 0) {
                    contenu = '<p>Aucune transaction à modifier</p>';
                } else {
                    // Trier par date (plus récent en premier)
                    transactions.sort((a, b) => new Date(b.date) - new Date(a.date));
                    
                    transactions.forEach(transaction => {
                        const montantFormatted = formatCurrency(transaction.montant);
                        const dateFormatted = formatDate(transaction.date);
                        
                        contenu += `
                            <div class="data-item">
                                <h4>${transaction.type.toUpperCase()} - ${transaction.reference}</h4>
                                <p><strong>Montant actuel:</strong> <span class="data-value">${montantFormatted}</span></p>
                                <p><strong>Description:</strong> ${transaction.description}</p>
                                <p><strong>Date:</strong> ${dateFormatted}</p>
                                
                                <div class="admin-form-group" style="margin-top: 1rem;">
                                    <label>Nouveau montant:</label>
                                    <input type="number" id="newAmount_${transaction.id}" value="${transaction.montant}" step="0.01">
                                </div>
                                
                                <div class="admin-form-group">
                                    <label>Nouvelle description:</label>
                                    <input type="text" id="newDescription_${transaction.id}" value="${transaction.description}">
                                </div>
                                
                                <button class="admin-btn" onclick="adminConfirmerModificationTransaction(${transaction.id})" style="background: #28a745; margin-top: 0.5rem;">
                                    <i class="fas fa-save"></i>
                                    Modifier la transaction
                                </button>
                            </div>
                        `;
                    });
                }

                adminAfficherDonnees('Modifier les Transactions', contenu);
            } catch (error) {
                console.error('Erreur récupération transactions:', error);
                showNotification('Erreur récupération transactions', 'error');
            }
        };

        // Confirmer modification de transaction
        window.adminConfirmerModificationTransaction = async function(transactionId) {
            if (!bambooDB) return;

            const newAmountInput = document.getElementById(`newAmount_${transactionId}`);
            const newDescriptionInput = document.getElementById(`newDescription_${transactionId}`);
            
            const newAmount = parseFloat(newAmountInput.value);
            const newDescription = newDescriptionInput.value.trim();

            if (isNaN(newAmount) || newAmount <= 0) {
                showNotification('Veuillez entrer un montant valide', 'error');
                return;
            }

            if (!newDescription) {
                showNotification('Veuillez entrer une description', 'error');
                return;
            }

            try {
                // Récupérer la transaction existante
                const transactions = await bambooDB.obtenirTransactions();
                const transaction = transactions.find(t => t.id === transactionId);
                
                if (!transaction) {
                    showNotification('Transaction non trouvée', 'error');
                    return;
                }

                // Mettre à jour la transaction
                const updatedTransaction = {
                    ...transaction,
                    montant: newAmount,
                    description: newDescription
                };

                // Supprimer l'ancienne et ajouter la nouvelle
                await bambooDB.supprimerTransaction(transactionId);
                await bambooDB.ajouterTransaction(updatedTransaction);

                showNotification('Transaction modifiée avec succès!', 'success');
                
                // Rafraîchir l'affichage admin
                adminModifierTransaction();
                await adminActualiserStats();
            } catch (error) {
                console.error('Erreur modification transaction:', error);
                showNotification('Erreur modification transaction: ' + error.message, 'error');
            }
        };
    
    
    
        // ============================================
        // ⚙️ PARAMÈTRES SYSTÈME - COMPLET
        // ============================================
        
        window.adminViderBase = async function() {
            if (!bambooDB) {
                showNotification('Base de données non initialisée', 'error');
                return;
            }
    
            const confirmText = 'SUPPRIMER TOUT';
            const userConfirm = prompt(`DANGER: Cette action va SUPPRIMER DÉFINITIVEMENT toutes les données!\n\n- Tous les comptes\n- Toutes les transactions\n- Tous les utilisateurs\n- Toutes les données de l'application\n\nTapez exactement "${confirmText}" pour confirmer:`);
            
            if (userConfirm === confirmText) {
                try {
                    await bambooDB.viderBase();
                    showNotification('Base de données vidée avec succès! Redémarrage...', 'success');
                    
                    // Réinitialiser les stats
                    setTimeout(async () => {
                        await adminActualiserStats();
                        showNotification('Système réinitialisé', 'info');
                    }, 1000);
                    
                } catch (error) {
                    console.error('Erreur vidage base:', error);
                    showNotification('Erreur vidage base: ' + error.message, 'error');
                }
            } else if (userConfirm !== null) {
                showNotification('Suppression annulée - texte incorrect', 'info');
            }
        };
    

        // Forcer réinitialisation complète
        window.adminForcerReinit = async function() {
            if (!bambooDB) {
                showNotification('Base de données non initialisée', 'error');
                return;
            }

            if (confirm('Êtes-vous sûr de vouloir forcer la réinitialisation ?\n\nCela va :\n- Vider complètement la base\n- Recréer tous les comptes\n- Recréer l\'utilisateur\n- Recréer les transactions')) {
                try {
                    showNotification('Réinitialisation forcée en cours...', 'info');
                    
                    // Vider complètement la base
                    await bambooDB.viderBase();
                    console.log('🗑️ Base vidée');
                    
                    // Réinitialiser les données de démonstration
                    await bambooDB.initialiserDonneesDemo();
                    console.log('🔄 Données de démonstration recréées');
                    
                    // Recharger les comptes
                    await loadAccountsFromDB();
                    
                    // Actualiser les stats
                    await adminActualiserStats();
                    
                    showNotification('Réinitialisation forcée terminée!', 'success');
                    
                } catch (error) {
                    console.error('Erreur réinitialisation forcée:', error);
                    showNotification('Erreur réinitialisation: ' + error.message, 'error');
                }
            }
        };

    
        // ============================================
        // 12. INITIALISATION FINALE
        // ============================================
        
        // Initialiser affichage compte
        updateAccountDisplay();
        
        // Initialiser base de données
        initDatabase();
        
        // Forcer l'actualisation des stats admin au chargement
        setTimeout(() => {
            if (typeof adminActualiserStats === 'function') {
                adminActualiserStats();
            }
        }, 2000);
        
        // Test des boutons admin
        setTimeout(() => {
            const adminButtons = document.querySelectorAll('.admin-btn');
            console.log('🔍 Boutons admin trouvés:', adminButtons.length);
            adminButtons.forEach((btn, index) => {
                console.log(`Bouton ${index}:`, btn.textContent.trim(), 'onclick:', btn.onclick);
                
                // Forcer la reconnexion des événements onclick
                const onclickAttr = btn.getAttribute('onclick');
                if (onclickAttr) {
                    btn.onclick = new Function(onclickAttr);
                    console.log(`✅ Bouton ${index} reconnecté:`, onclickAttr);
                }
            });
        }, 3000);
        
        // Diagnostic complet
        console.log('🔍 Diagnostic BAMBOO:');
        console.log('- Menu button:', !!menuBtn);
        console.log('- Sidebar:', !!sidebar);
        console.log('- Overlay:', !!overlay);
        console.log('- Toggle balance:', !!toggleBtn);
        console.log('- Navigation buttons:', !!prevBtn, !!nextBtn);
        console.log('- Sidebar links:', sidebarLinks.length);
        console.log('- Content panels:', contentPanels.length);
        console.log('- All buttons:', allButtons.length);
        console.log('- Notification items:', notificationItems.length);
        
        // Test de connectivité des fonctions admin
        console.log('🔧 Fonctions Admin disponibles:');
        console.log('- adminVoirComptes:', typeof window.adminVoirComptes);
        console.log('- adminVoirTransactions:', typeof window.adminVoirTransactions);
        console.log('- adminAjouterTransaction:', typeof window.adminAjouterTransaction);
        console.log('- adminViderBase:', typeof window.adminViderBase);
        
        console.log('✅ BAMBOO Banking System initialisé avec succès!');
        console.log('📊 Administration complète activée');
        console.log('💾 Base de données IndexedDB opérationnelle');
        
        // Notification de démarrage
        setTimeout(function() {
            showNotification('🏦 Bienvenue sur BAMBOO', 'success');
        }, 2000);
        
        // Test automatique après 5 secondes
        setTimeout(function() {
            if (bambooDB) {
                console.log('✅ Test automatique: Base de données OK');
                showNotification('Système vérifié et fonctionnel', 'info');
            } else {
                console.log('⚠️ Test automatique: Base de données non initialisée');
                showNotification('Vérification système en cours...', 'info');
            }
        }, 5000);
    });</script>
</body>
</html>